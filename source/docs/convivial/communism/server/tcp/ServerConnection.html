<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0) on Wed May 30 13:40:30 PDT 2012 -->
<title>ServerConnection</title>
<meta name="date" content="2012-05-30">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ServerConnection";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../convivial/communism/server/tcp/Server.html" title="class in convivial.communism.server.tcp"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?convivial/communism/server/tcp/ServerConnection.html" target="_top">Frames</a></li>
<li><a href="ServerConnection.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">convivial.communism.server.tcp</div>
<h2 title="Class ServerConnection" class="title">Class ServerConnection</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>convivial.communism.server.tcp.ServerConnection</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<dl>
<dt>All Implemented Interfaces:</dt>
<dd>java.lang.Runnable</dd>
</dl>
<hr>
<br>
<pre>public class <span class="strong">ServerConnection</span>
extends java.lang.Object
implements java.lang.Runnable</pre>
<div class="block">Represents a connection to a tcp-based server. Note that in order for this class to be useful you
                need to implement a <code>ServerListener</code>, unless you only want outgoing messages (and even then could
                not tell when the connection has been lost).</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../convivial/communism/server/tcp/ServerConnection.html#ServerConnection()">ServerConnection</a></strong>()</code>
<div class="block">Gets ready to connect to a server, but does not connect to one yet.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colOne"><code><strong><a href="../../../../convivial/communism/server/tcp/ServerConnection.html#ServerConnection(convivial.communism.server.ServerListener)">ServerConnection</a></strong>(<a href="../../../../convivial/communism/server/ServerListener.html" title="interface in convivial.communism.server">ServerListener</a>&nbsp;sl)</code>
<div class="block">Gets ready to connect to a server, but does not connect to one yet.</div>
</td>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../convivial/communism/server/tcp/ServerConnection.html#ServerConnection(java.lang.String, int, java.lang.Object, convivial.communism.server.ServerListener)">ServerConnection</a></strong>(java.lang.String&nbsp;host,
                int&nbsp;port,
                java.lang.Object&nbsp;attachment,
                <a href="../../../../convivial/communism/server/ServerListener.html" title="interface in convivial.communism.server">ServerListener</a>&nbsp;sl)</code>
<div class="block">Establishes a new connection to the indicated server using the intended port.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../convivial/communism/server/tcp/ServerConnection.html#channelWrite(java.nio.ByteBuffer)">channelWrite</a></strong>(java.nio.ByteBuffer&nbsp;writeBuffer)</code>
<div class="block">Writes out data to the server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../convivial/communism/server/tcp/ServerConnection.html#connect(java.lang.String, int, java.lang.Object)">connect</a></strong>(java.lang.String&nbsp;host,
       int&nbsp;port,
       java.lang.Object&nbsp;attachment)</code>
<div class="block">Connects to the intended server; does nothing if the <code>ServerConnection</code> is already
                connected to a server.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../convivial/communism/server/tcp/ServerConnection.html#disconnect()">disconnect</a></strong>()</code>
<div class="block">Tells the ServerListener the connection is disconnecting, then
                closes the channel and ends the thread that's been blocking on input from the server.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../convivial/communism/server/tcp/ServerConnection.html#run()">run</a></strong>()</code>
<div class="block"><font color=RED><b>DO NOT CALL</b></font>; automatically invoked by a new Thread.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="../../../../convivial/communism/server/tcp/ServerConnection.html#setListener(convivial.communism.server.ServerListener)">setListener</a></strong>(<a href="../../../../convivial/communism/server/ServerListener.html" title="interface in convivial.communism.server">ServerListener</a>&nbsp;sl)</code>
<div class="block">Sets the passed <code>ServerListener</code> to handle incomming messages from the server as well
                as disconnections.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ServerConnection()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ServerConnection</h4>
<pre>public&nbsp;ServerConnection()</pre>
<div class="block">Gets ready to connect to a server, but does not connect to one yet.
                Note that this constructor also does not set any <code>ServerListener</code>.</div>
</li>
</ul>
<a name="ServerConnection(convivial.communism.server.ServerListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>ServerConnection</h4>
<pre>public&nbsp;ServerConnection(<a href="../../../../convivial/communism/server/ServerListener.html" title="interface in convivial.communism.server">ServerListener</a>&nbsp;sl)</pre>
<div class="block">Gets ready to connect to a server, but does not connect to one yet.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sl</code> - Object to receieve incoming data messages and disconnect notifications.</dd></dl>
</li>
</ul>
<a name="ServerConnection(java.lang.String, int, java.lang.Object, convivial.communism.server.ServerListener)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ServerConnection</h4>
<pre>public&nbsp;ServerConnection(java.lang.String&nbsp;host,
                int&nbsp;port,
                java.lang.Object&nbsp;attachment,
                <a href="../../../../convivial/communism/server/ServerListener.html" title="interface in convivial.communism.server">ServerListener</a>&nbsp;sl)
                 throws java.net.UnknownHostException,
                        java.io.IOException</pre>
<div class="block">Establishes a new connection to the indicated server using the intended port.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>host</code> - Internet Address, in a string, representing the server to connect to.</dd><dd><code>port</code> - Port to connect to.</dd><dd><code>attachment</code> - Object to have the channel hold on to.</dd><dd><code>sl</code> - Object to receieve messages from the channel, may be null.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.net.UnknownHostException</code> - If the Internet Address cannot be found.</dd>
<dd><code>java.io.IOException</code> - If a general I/O error has occured... Could be a lot things.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="setListener(convivial.communism.server.ServerListener)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>setListener</h4>
<pre>public&nbsp;void&nbsp;setListener(<a href="../../../../convivial/communism/server/ServerListener.html" title="interface in convivial.communism.server">ServerListener</a>&nbsp;sl)</pre>
<div class="block">Sets the passed <code>ServerListener</code> to handle incomming messages from the server as well
                as disconnections.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>sl</code> - <code>ServerListener</code> to handle incoming messages and server disconnection messages.</dd></dl>
</li>
</ul>
<a name="connect(java.lang.String, int, java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>connect</h4>
<pre>public&nbsp;void&nbsp;connect(java.lang.String&nbsp;host,
           int&nbsp;port,
           java.lang.Object&nbsp;attachment)
             throws java.net.UnknownHostException,
                    java.io.IOException</pre>
<div class="block">Connects to the intended server; does nothing if the <code>ServerConnection</code> is already
                connected to a server. If this class is already connected, it throws an IllegalStateException.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>host</code> - IP address to connect to, probably in a numerical format: 10.0.0.4</dd><dd><code>port</code> - Port to connect to.</dd><dd><code>attachment</code> - Object to associate with this connection/channel.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.net.UnknownHostException</code> - If the Internet Address cannot be found.</dd>
<dd><code>java.io.IOException</code> - If a general I/O error has occured... Could be a lot things.</dd>
<dd><code>java.lang.IllegalStateException</code> - If this <code>ServerConnection</code> is already connected to a server.</dd><dt><span class="strong">See Also:</span></dt><dd><a href="../../../../convivial/communism/server/ServerListener.html" title="interface in convivial.communism.server"><code>ServerListener</code></a></dd></dl>
</li>
</ul>
<a name="run()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>run</h4>
<pre>public&nbsp;void&nbsp;run()</pre>
<div class="block"><font color=RED><b>DO NOT CALL</b></font>; automatically invoked by a new Thread. This class runs a thread to sit
                and wait for input from the server.</div>
<dl>
<dt><strong>Specified by:</strong></dt>
<dd><code>run</code>&nbsp;in interface&nbsp;<code>java.lang.Runnable</code></dd>
</dl>
</li>
</ul>
<a name="disconnect()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>disconnect</h4>
<pre>public&nbsp;void&nbsp;disconnect()</pre>
<div class="block">Tells the ServerListener the connection is disconnecting, then
                closes the channel and ends the thread that's been blocking on input from the server.
                The ServerListener is notified before anything is closed, so it is possible to send
                outgoing data before everything is shutdown.
        
        <p>The <code>ServerConnection</code> is ready to connect to a new server after this
                method finishes.</p></div>
</li>
</ul>
<a name="channelWrite(java.nio.ByteBuffer)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>channelWrite</h4>
<pre>public&nbsp;void&nbsp;channelWrite(java.nio.ByteBuffer&nbsp;writeBuffer)</pre>
<div class="block">Writes out data to the server. This method <i><b>could</b></i>
                take a long while depending on how fast data gets written down the channel
                and how much data there is to write, and the calling thread performs this
                operation. Create a new thread to write out data if this is a problem.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>writeBuffer</code> - Data to send to the server. Make sure to call flip(); on the buffer prior to this method.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../overview-summary.html">Overview</a></li>
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../convivial/communism/server/tcp/Server.html" title="class in convivial.communism.server.tcp"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?convivial/communism/server/tcp/ServerConnection.html" target="_top">Frames</a></li>
<li><a href="ServerConnection.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li>Field&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
